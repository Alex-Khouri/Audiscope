rm -rf "Classes"
mkdir "Classes"
javac -classpath "./JAR/*" -d "Classes/" "Java/AppGUI.java" "Java/AudioData.java" "Java/ExecutionBatch.java" "Java/FileProcessingTask.java" "Java/Config.java"

cd Classes
rm -f "../JAR/Audiscope.jar"
jar cfe "../JAR/Audiscope.jar" AppGUI "./"
cd ..
rm -rf Classes

find . -depth -name ".DS_Store" -exec rm {} \;

rm -rf "Releases"
mkdir "Releases"
mkdir "Releases/Audiscope (Linux ARM)"
mkdir "Releases/Audiscope (Linux ARM)/CSS"
mkdir "Releases/Audiscope (Linux ARM)/JRE"
mkdir "Releases/Audiscope (Linux ARM)/JRE/Linux ARM"
mkdir "Releases/Audiscope (Linux ARM)/JAR"
mkdir "Releases/Audiscope (Linux x86)"
mkdir "Releases/Audiscope (Linux x86)/CSS"
mkdir "Releases/Audiscope (Linux x86)/JRE"
mkdir "Releases/Audiscope (Linux x86)/JRE/Linux x86"
mkdir "Releases/Audiscope (Linux x86)/JAR"
mkdir "Releases/Audiscope (Mac ARM)"
mkdir "Releases/Audiscope (Mac ARM)/CSS"
mkdir "Releases/Audiscope (Mac ARM)/JRE"
mkdir "Releases/Audiscope (Mac ARM)/JRE/Mac ARM"
mkdir "Releases/Audiscope (Mac ARM)/JAR"
mkdir "Releases/Audiscope (Mac x86)"
mkdir "Releases/Audiscope (Mac x86)/CSS"
mkdir "Releases/Audiscope (Mac x86)/JRE"
mkdir "Releases/Audiscope (Mac x86)/JRE/Mac x86"
mkdir "Releases/Audiscope (Mac x86)/JAR"
mkdir "Releases/Audiscope (Windows ARM)"
mkdir "Releases/Audiscope (Windows ARM)/CSS"
mkdir "Releases/Audiscope (Windows ARM)/JRE"
mkdir "Releases/Audiscope (Windows ARM)/JRE/Windows ARM"
mkdir "Releases/Audiscope (Windows ARM)/JAR"
mkdir "Releases/Audiscope (Windows x86)"
mkdir "Releases/Audiscope (Windows x86)/CSS"
mkdir "Releases/Audiscope (Windows x86)/JRE"
mkdir "Releases/Audiscope (Windows x86)/JRE/Windows x86"
mkdir "Releases/Audiscope (Windows x86)/JAR"

cp -R "CSS/." "Releases/Audiscope (Linux ARM)/CSS/"
cp -R "CSS/." "Releases/Audiscope (Linux x86)/CSS/"
cp -R "CSS/." "Releases/Audiscope (Mac ARM)/CSS/"
cp -R "CSS/." "Releases/Audiscope (Mac x86)/CSS/"
cp -R "CSS/." "Releases/Audiscope (Windows ARM)/CSS/"
cp -R "CSS/." "Releases/Audiscope (Windows x86)/CSS/"

cp -R "JAR/." "Releases/Audiscope (Linux ARM)/JAR/"
cp -R "JAR/." "Releases/Audiscope (Linux x86)/JAR/"
cp -R "JAR/." "Releases/Audiscope (Mac ARM)/JAR/"
cp -R "JAR/." "Releases/Audiscope (Mac x86)/JAR/"
cp -R "JAR/." "Releases/Audiscope (Windows ARM)/JAR/"
cp -R "JAR/." "Releases/Audiscope (Windows x86)/JAR/"

unzip "JRE/Linux ARM.zip" -d "Releases/Audiscope (Linux ARM)/JRE/"
unzip "JRE/Linux x86.zip" -d "Releases/Audiscope (Linux x86)/JRE/"
unzip "JRE/Mac ARM.zip" -d "Releases/Audiscope (Mac ARM)/JRE/"
unzip "JRE/Mac x86.zip" -d "Releases/Audiscope (Mac x86)/JRE/"
unzip "JRE/Windows ARM.zip" -d "Releases/Audiscope (Windows ARM)/JRE/"
unzip "JRE/Windows x86.zip" -d "Releases/Audiscope (Windows x86)/JRE/"

# Delete large, unused JRE files from releases
rm -f "Releases/Audiscope (Linux ARM)/JRE/Linux ARM/lib/libjfxwebkit.so"
rm -f "Releases/Audiscope (Linux x86)/JRE/Linux x86/lib/libjfxwebkit.so"
rm -f "Releases/Audiscope (Mac ARM)/JRE/Mac ARM/lib/libjfxwebkit.dylib"
rm -f "Releases/Audiscope (Mac x86)/JRE/Mac x86/lib/libjfxwebkit.dylib"
rm -f "Releases/Audiscope (Windows x86)/JRE/Windows x86/bin/jfxwebkit.dll"

cp "Scripts/Run/Linux/run_linux_arm.sh" "Releases/Audiscope (Linux ARM)/Audiscope.sh"
cp "Scripts/Run/Linux/run_linux_x86.sh" "Releases/Audiscope (Linux x86)/Audiscope.sh"
cp "Scripts/Run/Mac/run_mac_arm.command" "Releases/Audiscope (Mac ARM)/Audiscope.command"
cp "Scripts/Run/Mac/run_mac_x86.command" "Releases/Audiscope (Mac x86)/Audiscope.command"
cp "Scripts/Run/Windows/run_windows_arm.bat" "Releases/Audiscope (Windows ARM)/Audiscope.bat"
cp "Scripts/Run/Windows/run_windows_x86.bat" "Releases/Audiscope (Windows x86)/Audiscope.bat"

cp "readme.txt" "Releases/Audiscope (Linux ARM)/readme.txt"
cp "readme.txt" "Releases/Audiscope (Linux x86)/readme.txt"
cp "readme.txt" "Releases/Audiscope (Mac ARM)/readme.txt"
cp "readme.txt" "Releases/Audiscope (Mac x86)/readme.txt"
cp "readme.txt" "Releases/Audiscope (Windows ARM)/readme.txt"
cp "readme.txt" "Releases/Audiscope (Windows x86)/readme.txt"

chmod a+x "Releases/Audiscope (Linux ARM)/Audiscope.sh"
chmod a+x "Releases/Audiscope (Linux x86)/Audiscope.sh"
chmod a+x "Releases/Audiscope (Mac ARM)/Audiscope.command"
chmod a+x "Releases/Audiscope (Mac x86)/Audiscope.command"

chmod a+x "Releases/Audiscope (Linux ARM)/JRE/Linux ARM/bin/java"
chmod a+x "Releases/Audiscope (Linux x86)/JRE/Linux x86/bin/java"
chmod a+x "Releases/Audiscope (Mac ARM)/JRE/Mac ARM/bin/java"
chmod a+x "Releases/Audiscope (Mac x86)/JRE/Mac x86/bin/java"
chmod a+x "Releases/Audiscope (Windows ARM)/JRE/Windows ARM/bin/java.exe"
chmod a+x "Releases/Audiscope (Windows ARM)/JRE/Windows ARM/bin/javaw.exe"
chmod a+x "Releases/Audiscope (Windows x86)/JRE/Windows x86/bin/java.exe"
chmod a+x "Releases/Audiscope (Windows x86)/JRE/Windows x86/bin/javaw.exe"

pushd "Releases"

zip -r "Audiscope (Linux ARM).zip" "Audiscope (Linux ARM)" -x "*.DS_Store"
zip -r "Audiscope (Linux x86).zip" "Audiscope (Linux x86)" -x "*.DS_Store"
zip -r "Audiscope (Mac ARM).zip" "Audiscope (Mac ARM)" -x "*.DS_Store"
zip -r "Audiscope (Mac x86).zip" "Audiscope (Mac x86)" -x "*.DS_Store"
zip -r "Audiscope (Windows ARM).zip" "Audiscope (Windows ARM)" -x "*.DS_Store"
zip -r "Audiscope (Windows x86).zip" "Audiscope (Windows x86)" -x "*.DS_Store"

rm -rf "Audiscope (Linux ARM)"
rm -rf "Audiscope (Linux x86)"
rm -rf "Audiscope (Mac ARM)"
rm -rf "Audiscope (Mac x86)"
rm -rf "Audiscope (Windows ARM)"
rm -rf "Audiscope (Windows x86)"

popd